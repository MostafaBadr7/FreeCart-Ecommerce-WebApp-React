"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[392],{3392:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(9060),r=s(2622),l=s(4568),i=s(8372),n=s(2692),d=s(1560),c=s(2496);function o(){const[e,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),{id:u}=((0,d.i6)(),(0,d.W4)());const p=l.kt({details:l.Qb().trim().required("*required*").min(10).max(50).matches(/^[\w\s]+[A-Za-z0-9'.\s,]+/),city:l.Qb().trim().required("*required*").min(3).max(20).matches(/^[\w\s]+[A-Za-z0-9'.\s,]+/),phone:l.Qb().trim().matches(/^0?1[0125]\d{8}$/,"011 / 012 / 015 / 010 (10 numbers min.)").required("*required*")}),x=(0,r.KO)({initialValues:{details:"",city:"",phone:""},onSubmit:function(e){!function(e){h(!0),i.c.post("https://ecommerce.routemisr.com/api/v1/orders/checkout-session/".concat(u),{shippingAddress:e},{headers:{token:localStorage.getItem("ecommToken")},params:{url:"https://mostafabadr7.github.io/FreeCart-Ecommerce-WebApp-React/#"}}).then((e=>{a(!0),h(!1),setTimeout((()=>{a(!1),window.location.href=e.data.session.url}),2e3)})).catch((e=>{o(e.response.data.message),h(!1),setTimeout((()=>{o(!1)}),4e3)}))}(e)},validationSchema:p});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("main",{className:"mt-5 px-5 mx-5",children:[e&&(0,c.jsx)("div",{className:"alert alert-success text-center",children:"Saved Successfully"}),s&&(0,c.jsx)("div",{className:"alert alert-danger text-center",children:s}),(0,c.jsx)("h1",{children:"Your Address:"}),(0,c.jsxs)("form",{className:"mt-4",onSubmit:x.handleSubmit,children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"details",className:"form-label text-dark",children:"Address:"}),(0,c.jsx)("input",{onBlur:x.handleBlur,onChange:x.handleChange,type:"text",value:x.values.details,id:"details",className:"form-control"}),x.errors.details&&x.touched.details&&(0,c.jsx)("div",{className:"alert alert-danger",children:x.errors.details})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"city",className:"form-label",children:"City:"}),(0,c.jsx)("input",{onBlur:x.handleBlur,onChange:x.handleChange,type:"text",value:x.values.city,id:"city",className:"form-control"}),x.errors.city&&x.touched.city&&(0,c.jsx)("div",{className:"alert alert-danger",children:x.errors.city})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone:"}),(0,c.jsx)("input",{onBlur:x.handleBlur,onChange:x.handleChange,type:"number",value:x.values.phone,id:"phone",className:"form-control"}),x.errors.phone&&x.touched.phone&&(0,c.jsx)("div",{className:"alert alert-danger",children:x.errors.phone})]}),(0,c.jsx)("div",{className:"d-grid gap-2",children:m?(0,c.jsx)("button",{disabled:!(x.isValid&&x.dirty),type:"button",className:"d-flex align-items-center btn mt-4 validation px-3 py-2  bg-main rounded ms-auto text-white",children:(0,c.jsx)(n.d7,{height:20,width:20,radius:5,color:"#fff",ariaLabel:"ball-triangle-loading",wrapperStyle:{},wrapperClass:"mb-1 px-4",visible:!0})}):(0,c.jsx)("button",{className:"d-flex align-items-center btn mt-4 px-3 py-2  bg-main rounded ms-auto text-white",disabled:!(x.isValid&&x.dirty),type:"submit",children:"Pay Now"})})]})]})})}}}]);
//# sourceMappingURL=392.293fb2fa.chunk.js.map