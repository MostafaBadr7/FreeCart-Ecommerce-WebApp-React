{"version":3,"file":"static/js/392.293fb2fa.chunk.js","mappings":"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","sources":["Components/CheckoutDetails/CheckoutDetails.jsx"],"sourcesContent":["import React from 'react'\r\nimport './CheckoutDetails.module.css'\r\nimport {useFormik} from 'formik'\r\nimport * as Yup from 'yup'\r\nimport axios from 'axios'\r\nimport { useState } from 'react'\r\nimport {BallTriangle} from 'react-loader-spinner'\r\nimport {useNavigate, useParams} from 'react-router-dom'\r\n\r\nexport default function CheckoutDetails() {\r\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> State <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n    const [success, setsuccess] = useState(false);\r\n    const [faild, setfaild] = useState(false);\r\n    const [loading, setloading] = useState(false);\r\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>[ Automation ]<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n    \r\n    //usenavigate returns function ,, so its variable is a function\r\n    const navigate = useNavigate();\r\n    const {id} = useParams()\r\n    const url = 'http://localhost:3000'\r\n\r\n    function sendData(values){\r\n        setloading(true);\r\n         axios.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${id}`, {\"shippingAddress\": values}, \r\n          {headers:{token:localStorage.getItem('ecommToken')},params:{url: 'https://mostafabadr7.github.io/FreeCart-Ecommerce-WebApp-React/#',}})\r\n        .then((response)=>{\r\n            // console.log('true', response);\r\n            setsuccess(true);\r\n            setloading(false);\r\n            setTimeout(()=>{setsuccess(false)\r\n                window.location.href = response.data.session.url\r\n            }, 2000);\r\n        }).catch((response)=>{\r\n            // console.log('err', (response.response.data), (id));\r\n            setfaild(response.response.data.message);\r\n            setloading(false);\r\n            setTimeout(()=>{setfaild(false)\r\n            }, 4000)\r\n        })\r\n    }\r\n \r\n    \r\n   \r\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>[ ForMik ]<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\nlet useData={\r\n    details:'',\r\n    city:'',\r\n    phone:'',\r\n}\r\nfunction onSubmit(values){\r\n    sendData(values)\r\n}\r\n// -------------------------------------------------- YUP ----------------------------------------\r\nconst myScheme=Yup.object({\r\n    details:Yup.string().trim().required(\"*required*\").min(10).max(50).matches(/^[\\w\\s]+[A-Za-z0-9'.\\s,]+/),\r\n    city:Yup.string().trim().required(\"*required*\").min(3).max(20).matches(/^[\\w\\s]+[A-Za-z0-9'.\\s,]+/),\r\n    phone:Yup.string().trim().matches(/^0?1[0125]\\d{8}$/, \"011 / 012 / 015 / 010 (10 numbers min.)\").required('*required*'),\r\n})\r\n// ------------------------------------------------ useFormik ----------------------------------------\r\nconst myFormik = useFormik({\r\n    initialValues: useData ,\r\n    onSubmit,\r\n    validationSchema: myScheme,\r\n    })\r\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>[ RETURN ]<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n  return <>\r\n    <main className=\"mt-5 px-5 mx-5\">\r\n    {/* // ------------------------------------------- Error or Success ---------------------------------------- */}\r\n        {success && <div className='alert alert-success text-center' >Saved Successfully</div>}\r\n        {faild && <div className='alert alert-danger text-center' >{faild}</div>}\r\n    {/* // ------------------------------------------------ FORM ---------------------------------------- */}\r\n            <h1>Your Address:</h1>\r\n                <form className='mt-4' onSubmit={myFormik.handleSubmit} >\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor='details' className=\"form-label text-dark\">Address:</label>\r\n                        <input onBlur={myFormik.handleBlur} onChange={myFormik.handleChange} type=\"text\" value={myFormik.values.details}  id='details' className=\"form-control\"   />\r\n                            {myFormik.errors.details && myFormik.touched.details && <div className='alert alert-danger'>{myFormik.errors.details}</div> }\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor='city' className=\"form-label\">City:</label>\r\n                        <input onBlur={myFormik.handleBlur} onChange={myFormik.handleChange} type=\"text\" value={myFormik.values.city} id='city' className=\"form-control\"   />\r\n                            {myFormik.errors.city && myFormik.touched.city && <div className='alert alert-danger'>{myFormik.errors.city}</div> }\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor='phone' className=\"form-label\">Phone:</label>\r\n                        <input onBlur={myFormik.handleBlur} onChange={myFormik.handleChange} type=\"number\" value={myFormik.values.phone} id='phone' className=\"form-control\"   />\r\n                            {myFormik.errors.phone && myFormik.touched.phone && <div className='alert alert-danger'>{myFormik.errors.phone}</div> }\r\n                    </div>\r\n                    <div className=\"d-grid gap-2\">\r\n    {/* // --------------------------------------------- SUBMIT BUTTON ---------------------------------------- */}\r\n                    {loading? \r\n                    <button  disabled={!(myFormik.isValid && myFormik.dirty)} type='button' className=\"d-flex align-items-center btn mt-4 validation px-3 py-2  bg-main rounded ms-auto text-white\">\r\n                    <BallTriangle\r\n                            height={20}\r\n                            width={20}\r\n                            radius={5}\r\n                            color=\"#fff\"\r\n                            ariaLabel=\"ball-triangle-loading\"\r\n                            wrapperStyle={{}}\r\n                            wrapperClass=\"mb-1 px-4\"\r\n                            visible={true}\r\n                        />\r\n                    </button>\r\n                    :\r\n                    <button  className=\"d-flex align-items-center btn mt-4 px-3 py-2  bg-main rounded ms-auto text-white\" disabled={!(myFormik.isValid && myFormik.dirty)} type='submit'>\r\n                    Pay Now\r\n                    </button>\r\n                }\r\n                    </div>\r\n                </form>\r\n    </main>\r\n</>\r\n}\r\n"],"names":["CheckoutDetails","success","setsuccess","useState","faild","setfaild","loading","setloading","id","useNavigate","useParams","myScheme","Yup","details","trim","required","min","max","matches","city","phone","myFormik","useFormik","initialValues","onSubmit","values","axios","post","concat","headers","token","localStorage","getItem","params","url","then","response","setTimeout","window","location","href","data","session","catch","message","sendData","validationSchema","_jsx","_Fragment","children","_jsxs","className","handleSubmit","htmlFor","onBlur","handleBlur","onChange","handleChange","type","value","errors","touched","disabled","isValid","dirty","BallTriangle","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","visible"],"sourceRoot":""}